<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>
    <link rel="stylesheet" href="css/Join_Us.css">
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
</head>

<body>
    <div id="container" class="container">
        <!-- FORM SECTION -->
        <div class="row">
            <!-- SIGN UP -->
            <div class="col align-items-center flex-col sign-up">
                <div class="form-wrapper align-items-center">
                    <div class="form sign-up">



                        <!-- 지도 박스 부분 -->
                            <p>:: <b>JunHan</b>의 최근 위치가 지도 위에 마커로 표시됩니다.</p>

                            <!-- 카카오맵 지도에 내 위치 띄우기(서버 돌려야 실행됨) -->
                            <div id="map" style="width: 100%; height: 350px;"></div>
                            <script type="text/javascript"
                                src="//dapi.kakao.com/v2/maps/sdk.js?appkey=09670140fa73f1e7cde3f5725994c985"></script>

                            <!-- map 버튼입니다! -->
                            <button class="button" value="키워드 검색" class="btn btn-light" id="mapbutton"
                                onclick="window.open('MapAPI.html',map,'width=1000,height=500')">키워드 검색</button>

                            <script>
                                //카카오맵
                                window.onload = function () {

                                    if (navigator.geolocation) {
                                        navigator.geolocation.getCurrentPosition(function (position) {
                                            var lat = lat = position.coords.latitude,
                                                lon = position.coords.longitude;


                                            //  center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
                                            var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
                                                mapOption = {
                                                    center: new kakao.maps.LatLng(lat, lon), // 지도의 중심좌표
                                                    level: 5
                                                    // 지도의 확대 레벨 
                                                };


                                            var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

                                            // 마커를 표시할 위치와 내용을 가지고 있는 객체 배열입니다 
                                            var positions = [
                                                {
                                                    content: '<div>나의 현재 위치</div>',
                                                    latlng: new kakao.maps.LatLng(lat, lon)
                                                },
                                                {
                                                    content: '<div>마카로니 공원</div>',
                                                    latlng: new kakao.maps.LatLng(37.5809194, 127.002413)
                                                },
                                                {
                                                    content: '<div>3조의 보금자리</div>',
                                                    latlng: new kakao.maps.LatLng(37.5834512, 126.999820)
                                                },
                                                {
                                                    content: '<div>피자맛집</div>',
                                                    latlng: new kakao.maps.LatLng(37.5845323, 126.997216)
                                                },
                                                {
                                                    content: '<div>낙산공원</div>',
                                                    latlng: new kakao.maps.LatLng(37.5818113, 127.006307)
                                                }
                                            ];

                                            for (var i = 0; i < positions.length; i++) {
                                                // 마커를 생성합니다
                                                var marker = new kakao.maps.Marker({
                                                    map: map, // 마커를 표시할 지도
                                                    position: positions[i].latlng // 마커의 위치
                                                });

                                                // 마커에 표시할 인포윈도우를 생성합니다 
                                                var infowindow = new kakao.maps.InfoWindow({
                                                    content: positions[i].content // 인포윈도우에 표시할 내용
                                                });

                                                // 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
                                                // 이벤트 리스너로는 클로저를 만들어 등록합니다 
                                                // for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
                                                kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
                                                kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
                                            }

                                            // 인포윈도우를 표시하는 클로저를 만드는 함수입니다 
                                            function makeOverListener(map, marker, infowindow) {
                                                return function () {
                                                    infowindow.open(map, marker);
                                                };
                                            }

                                            // 인포윈도우를 닫는 클로저를 만드는 함수입니다 
                                            function makeOutListener(infowindow) {
                                                return function () {
                                                    infowindow.close();
                                                };
                                            }
                                        });
                                    }
                                }
                            </script>
                        
                        <!-- <div class="input-group">
                            <i class='bx bxs-user'></i>
                            <input type="text" placeholder="Username">
                        </div>
                        <div class="input-group">
                            <i class='bx bx-mail-send'></i>
                            <input type="email" placeholder="Email">
                        </div>
                        <div class="input-group">
                            <i class='bx bxs-lock-alt'></i>
                            <input type="password" placeholder="Password">
                        </div>
                        <div class="input-group">
                            <i class='bx bxs-lock-alt'></i>
                            <input type="password" placeholder="Confirm password">
                        </div>
                        <button>
                            Sign up
                        </button> -->
                        <p>
                            <!-- <span>
                                Already have an account?
                            </span> -->
                            <b onclick="toggle()" class="pointer" style="color: rgb(81, 206, 255);">
                                다시 준한과 이야기하러 가기
                            </b>
                        </p>
                    </div>
                </div>

            </div>
            <!-- END SIGN UP -->
            <!-- SIGN IN -->
            <div class="col align-items-center flex-col sign-in">
                <div class="form-wrapper align-items-center">
                    <div class="form sign-in">
                        <div id="signbox" class="col-auto">
                            <label class="visually-hidden">Message</label>
                            <input type="text" class="form-control" id="autoSizingInput" placeholder="메세지 입력">
                        </div>
                        <button id="sending" onclick="sendlAlert(), sendClear();">
                            메세지 보내기
                        </button>
                        <p>
                            <span style="color: gray;">
                                버튼을 클릭하면 준한과 이야기할 수 있습니다
                            </span>
                        </p>
                        <p>
                            <!-- <span>
                                지금
                            </span> -->
                            <b onclick="toggle()" class="pointer" style="color: rgb(81, 206, 255);">
                                JunHan의 위치 보러가기(Click)
                            </b>
                        </p>
                    </div>
                </div>
                <div class="form-wrapper">

                </div>
            </div>
            <!-- END SIGN IN -->
        </div>
        <!-- END FORM SECTION -->
        <!-- CONTENT SECTION -->
        <div class="row content-row">
            <!-- SIGN IN CONTENT -->
            <div class="col align-items-center flex-col">
                <div class="text sign-in">
                    <h2>
                        Contact<br>JunHans
                    </h2>

                </div>
                <div class="img sign-in">

                </div>
            </div>
            <!-- END SIGN IN CONTENT -->
            <!-- SIGN UP CONTENT -->
            <div class="col align-items-center flex-col">
                <div class="img sign-up">

                </div>
                <div class="text sign-up">
                    <h2>
                        JunHan's<br>Current location
                    </h2>

                </div>
            </div>
            <!-- END SIGN UP CONTENT -->
        </div>
        <!-- END CONTENT SECTION -->
    </div>
</body>
<script>
    let container = document.getElementById('container')

    toggle = () => {
        container.classList.toggle('sign-in')
        container.classList.toggle('sign-up')
    }

    setTimeout(() => {
        container.classList.add('sign-in')
    }, 200)

    // 진화이벤트 알림
    function sendlAlert() {
        swal("전송완료!", "준한님에게 메세지를 전송하였습니다", "success");
    }
    function sendClear() {
        document.getElementById("autoSizingInput").value = "";
    }
</script>

</html>